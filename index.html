<!doctype html>
<html lang="ko">
<head>
  <!-- 다크모드 깜빡임 방지 (CSS 로드 전 즉시 실행) -->
  <script>
    (function() {
      var theme = localStorage.getItem('theme');
      if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
  </script>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MXN6MDK8');</script>
  <!-- End Google Tag Manager -->
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VZJQW29DRB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-VZJQW29DRB');
  </script>
  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "v48dmfyli0");
  </script>
  <!-- End Microsoft Clarity -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3182f6">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="소방체크">
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png">
  <link rel="canonical" href="https://sobangcheck.com/">
  <title>소방시설 설치기준 조회 - 건축물대장 검색으로 빠르게 확인 | 소방체크</title>
  <meta name="description" content="소방점검 실무자를 위한 소방시설 설치기준 조회 서비스. 주소 검색으로 건축물대장 정보와 건축허가일 기준 적용 법령을 빠르게 확인하세요.">
  <meta name="keywords" content="소방시설 설치기준, 소방점검, 건축물대장 조회, 소방법령, 스프링클러 설치기준, 자동화재탐지설비, 소화기 설치기준, 옥내소화전">

  <!-- 구조화 데이터 (Schema.org JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "소방체크",
    "url": "https://sobangcheck.com/",
    "description": "소방점검 실무자를 위한 소방시설 설치기준 조회 서비스",
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https://sobangcheck.com/?address={search_term_string}"
      },
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "소방체크 - 소방시설 설치기준 조회",
    "description": "소방점검 실무자를 위한 소방시설 설치기준 조회 서비스. 주소 검색으로 건축물대장 정보와 적용 법령을 빠르게 확인할 수 있습니다.",
    "url": "https://sobangcheck.com/",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "KRW"
    },
    "creator": {
      "@type": "Organization",
      "name": "소방체크",
      "url": "https://sobangcheck.com/"
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Service",
    "name": "소방시설 설치기준 조회 서비스",
    "description": "건축물대장 검색으로 건축허가일 기준 소방시설 설치기준을 빠르게 확인할 수 있는 무료 서비스",
    "provider": {
      "@type": "Organization",
      "name": "소방체크"
    },
    "serviceType": "소방시설 설치기준 조회",
    "areaServed": {
      "@type": "Country",
      "name": "대한민국"
    },
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "소방체크 서비스",
      "itemListElement": [
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "건축물대장 검색"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "소방시설 설치기준 확인"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "법령연혁 조회"
          }
        }
      ]
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "소방시설 설치기준은 어떻게 확인하나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "소방체크에서 주소를 검색하면 건축물대장의 건축허가일, 용도, 면적 정보를 기반으로 해당 건물에 적용되는 소방시설 설치기준을 바로 확인할 수 있습니다."
        }
      },
      {
        "@type": "Question",
        "name": "건축허가일이 왜 중요한가요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "소방시설 설치기준은 건축허가일 당시의 법령이 적용됩니다. 건축허가일에 따라 적용되는 설치기준이 다르므로, 정확한 건축허가일 확인이 소방점검의 첫 단계입니다."
        }
      },
      {
        "@type": "Question",
        "name": "소방체크는 무료로 이용할 수 있나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "네, 소방체크의 소방시설 설치기준 조회 서비스는 완전 무료로 제공됩니다. 회원가입 없이도 기본 조회가 가능하며, 로그인하면 검색 기록 저장 등 추가 기능을 이용할 수 있습니다."
        }
      },
      {
        "@type": "Question",
        "name": "설치기준 정보는 얼마나 정확한가요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "소방체크는 국토교통부 건축물대장정보 서비스 API를 활용하여 공식 데이터를 제공합니다. 다만 법령 해석이 필요한 복잡한 사안은 관할 소방서에 문의하시기 바랍니다."
        }
      },
      {
        "@type": "Question",
        "name": "건물 용도를 어떻게 확인하나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "건축물대장에 기재된 '주용도'를 기준으로 확인합니다. 소방체크에서 주소 검색 시 건축물대장의 용도 정보가 자동으로 표시되며, 복합용도 건물은 각 용도별 면적도 확인할 수 있습니다."
        }
      },
      {
        "@type": "Question",
        "name": "결과를 저장하거나 공유할 수 있나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "로그인 후 조회한 건물 정보는 검색 기록에 자동 저장됩니다. 검색 결과 화면에서 공유 버튼을 통해 URL을 복사하거나 SNS로 공유할 수 있습니다."
        }
      },
      {
        "@type": "Question",
        "name": "모바일에서도 이용 가능한가요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "네, 소방체크는 모바일 환경에 최적화되어 있습니다. 스마트폰, 태블릿 등 모든 기기에서 별도 앱 설치 없이 웹브라우저로 이용할 수 있습니다."
        }
      },
      {
        "@type": "Question",
        "name": "소방시설 설치기준은 얼마나 자주 바뀌나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "소방시설 설치기준은 대형 화재 사고 후속 조치나 안전 기준 강화 목적으로 수시로 개정됩니다. 최근에는 2022년 소방시설법 분법, 2019년 밀양화재 후속 조치 등 주요 개정이 있었습니다. 소방체크 법령연혁 페이지에서 변경 내용을 확인할 수 있습니다."
        }
      },
      {
        "@type": "Question",
        "name": "기존 건물도 새로운 기준을 적용받나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "원칙적으로 건축허가일 당시 기준이 적용되지만, 일부 시설은 소급 적용됩니다. 특히 스프링클러의 경우 노유자시설, 의료시설, 숙박시설 등은 기존 건물도 설치 의무가 있습니다. 소급 적용 여부는 시설 유형과 법령에 따라 다릅니다."
        }
      },
      {
        "@type": "Question",
        "name": "소방시설 설치 면제 조건이 있나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "일부 조건에서 소방시설 설치가 면제될 수 있습니다. 예를 들어 바닥면적 33㎡ 미만 건물은 소화기 설치 의무가 없고, 내화구조로 된 건물은 일부 시설 설치가 완화됩니다. 구체적인 면제 조건은 시설별로 다르므로 관할 소방서 확인이 필요합니다."
        }
      },
      {
        "@type": "Question",
        "name": "소방시설 기준 위반 시 어떤 처벌을 받나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "소방시설 설치기준 위반 시 300만원 이하의 과태료가 부과될 수 있습니다. 심각한 위반의 경우 3년 이하의 징역 또는 3천만원 이하의 벌금에 처해질 수 있으며, 화재 발생 시 가중 처벌됩니다."
        }
      },
      {
        "@type": "Question",
        "name": "소방안전관리자 선임 기준은 무엇인가요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "특정소방대상물의 규모와 용도에 따라 소방안전관리자 선임 의무가 달라집니다. 연면적 1만5천㎡ 이상(특급), 1만㎡ 이상(1급), 5천㎡ 이상(2급) 등 등급별 기준이 있으며, 위험물 저장소 등은 별도 기준이 적용됩니다."
        }
      },
      {
        "@type": "Question",
        "name": "스프링클러와 간이스프링클러의 차이점은 무엇인가요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "스프링클러는 대규모 건물에 설치되는 정식 자동소화설비이며, 간이스프링클러는 소규모 시설용으로 설치가 간편하고 비용이 저렴합니다. 간이스프링클러는 주로 600㎡ 미만의 숙박시설, 노유자시설, 의원 등에 설치됩니다."
        }
      },
      {
        "@type": "Question",
        "name": "소방체크 정보의 법적 효력은 어떻게 되나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "소방체크는 참고용 정보 서비스로, 법적 효력이 있는 공식 문서가 아닙니다. 실제 소방점검이나 인허가 절차에서는 관할 소방서의 공식 확인을 받으시기 바랍니다. 소방체크는 실무자의 사전 검토와 이해를 돕기 위한 도구입니다."
        }
      }
    ]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "소방체크",
    "url": "https://sobangcheck.com/",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sobangcheck.com/assets/favicon.svg",
      "width": 512,
      "height": 512
    },
    "description": "소방점검 실무자를 위한 소방시설 설치기준 조회 서비스",
    "foundingDate": "2025",
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer service",
      "email": "contact@sobangcheck.com",
      "availableLanguage": "Korean"
    },
    "knowsAbout": [
      "소방시설 설치기준",
      "건축물대장",
      "소방법령",
      "스프링클러 설치기준",
      "자동화재탐지설비",
      "소화기 설치기준",
      "옥내소화전"
    ],
    "sameAs": []
  }
  </script>

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="소방체크">
  <meta property="og:title" content="소방시설 설치기준 조회 | 소방체크">
  <meta property="og:description" content="소방점검 실무자를 위한 설치기준 조회 서비스. 주소 검색으로 건축허가일 기준 적용 법령을 빠르게 확인하세요.">
  <meta property="og:image" content="https://sobangcheck.com/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:url" content="https://sobangcheck.com/">
  <meta property="og:locale" content="ko_KR">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="소방시설 설치기준 조회 | 소방체크">
  <meta name="twitter:description" content="소방점검 실무자를 위한 설치기준 조회 서비스. 주소 검색으로 적용 법령을 빠르게 확인하세요.">
  <meta name="twitter:image" content="https://sobangcheck.com/og-image.jpg">
  <!-- 인앱 브라우저 감지 및 리다이렉트 (CSS 로드 전 실행) -->
  <script>
  (function() {
    var ua = navigator.userAgent || '';
    var inApp = /KAKAOTALK|NAVER\(inapp|Instagram|FBAN|FBAV|Line\/|Twitter|TikTok|BAND\//i.test(ua);

    // iOS WebView 감지 (Safari 문자열 없음)
    if (!inApp && /iPhone|iPad/.test(ua) && !/Safari/.test(ua)) inApp = true;

    if (inApp) {
      window.__inAppBrowser = true;
      // Android: Intent URL로 Chrome 열기
      if (/Android/i.test(ua)) {
        location.href = 'intent://' + location.href.replace(/^https?:\/\//, '') +
          '#Intent;scheme=https;package=com.android.chrome;end';
      }
    }
  })();
  </script>
  <link href='/css/style.css' rel='stylesheet'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7564559804434011"
     crossorigin="anonymous"></script>
  <!-- 카카오 주소 검색 API / 네이버 지도 API: 사용 시점에 지연 로딩 (main.js) -->
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MXN6MDK8"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- 인앱 브라우저 안내 화면 -->
  <div id="inAppGuide" class="inapp-guide" style="display:none">
    <div class="inapp-guide-content">
      <div class="inapp-guide-icon">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2Z" fill="currentColor" opacity="0.2"/>
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2ZM12 22C7.94 20.84 4 15.36 4 10.5V8.3L12 4.26L20 8.3V10.5C20 15.36 16.06 20.84 12 22Z" fill="currentColor"/>
          <path d="M12 7C10.34 7 9 8.34 9 10V11H8V17H16V11H15V10C15 8.34 13.66 7 12 7ZM13 11H11V10C11 9.45 11.45 9 12 9C12.55 9 13 9.45 13 10V11Z" fill="currentColor"/>
        </svg>
      </div>
      <h2>외부 브라우저에서 열어주세요</h2>
      <p>원활한 서비스 이용을 위해<br>Chrome 또는 Safari에서 접속해주세요.</p>
      <div id="androidGuide" class="inapp-platform-guide" style="display:none">
        <div class="inapp-step">
          <span class="step-icon">⋮</span>
          <span>우측 상단 메뉴 버튼 터치</span>
        </div>
        <div class="inapp-step">
          <span class="step-icon">→</span>
          <span>"다른 브라우저에서 열기" 선택</span>
        </div>
      </div>
      <div id="iosGuide" class="inapp-platform-guide" style="display:none">
        <button class="inapp-copy-btn" onclick="copyUrl()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
          </svg>
          주소 복사하기
        </button>
        <p class="inapp-hint">복사 후 Safari에서 붙여넣기 해주세요</p>
      </div>
    </div>
  </div>

  <!-- 초기 로딩 화면 -->
  <div id="splashScreen" class="splash-screen">
    <div class="splash-content">
      <div class="splash-icon">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2Z" fill="currentColor" opacity="0.2"/>
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2ZM12 22C7.94 20.84 4 15.36 4 10.5V8.3L12 4.26L20 8.3V10.5C20 15.36 16.06 20.84 12 22Z" fill="currentColor"/>
          <path d="M12 7C10.34 7 9 8.34 9 10V11H8V17H16V11H15V10C15 8.34 13.66 7 12 7ZM13 11H11V10C11 9.45 11.45 9 12 9C12.55 9 13 9.45 13 10V11Z" fill="currentColor"/>
        </svg>
      </div>
      <div class="splash-spinner"></div>
    </div>
  </div>

  <main>
  <div class="container">
    <!-- 상단 바 (홈 버튼 + 로그인) -->
    <div class="top-bar">
      <button class="home-btn" onclick="goHome()" aria-label="홈으로">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2Z" fill="currentColor" opacity="0.2"/>
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2ZM12 22C7.94 20.84 4 15.36 4 10.5V8.3L12 4.26L20 8.3V10.5C20 15.36 16.06 20.84 12 22Z" fill="currentColor"/>
          <path d="M12 7C10.34 7 9 8.34 9 10V11H8V17H16V11H15V10C15 8.34 13.66 7 12 7ZM13 11H11V10C11 9.45 11.45 9 12 9C12.55 9 13 9.45 13 10V11Z" fill="currentColor"/>
        </svg>
      </button>

      <div id="authSection" class="auth-section">
        <div id="loginBtn" class="auth-btn" onclick="handleGoogleLogin()">
          <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
            <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
            <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
            <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
          </svg>
          <span>로그인</span>
        </div>
        <div id="userInfo" class="user-info" style="display: none;">
          <div class="profile-dropdown" onclick="toggleProfileMenu()">
            <img id="userPhoto" class="user-photo" src="" alt="프로필">
            <span id="userName" class="user-name"></span>
            <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 9l6 6 6-6"/>
            </svg>
          </div>
          <div id="profileMenu" class="profile-menu">
            <div class="profile-menu-header">
              <img id="menuUserPhoto" class="menu-user-photo" src="" alt="프로필">
              <div class="menu-user-info">
                <span id="menuUserName" class="menu-user-name"></span>
                <span id="menuUserEmail" class="menu-user-email"></span>
                <span id="menuUserRole" class="user-role-badge"></span>
              </div>
            </div>
            <div class="profile-menu-divider"></div>
            <button id="adminMenuItem" class="profile-menu-item" onclick="goToAdminPage()" style="display: none;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
              회원 관리
            </button>
            <button id="adAdminMenuItem" class="profile-menu-item" onclick="goToAdAdminPage()" style="display: none;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <line x1="9" y1="9" x2="15" y2="15"/>
                <line x1="15" y1="9" x2="9" y2="15"/>
              </svg>
              광고 관리
            </button>
            <button class="profile-menu-item" onclick="showMyInfo()">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
              </svg>
              내 정보
            </button>
            <button class="profile-menu-item" onclick="showSettings()">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"/>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
              </svg>
              설정
            </button>
            <div class="profile-menu-divider"></div>
            <button class="profile-menu-item logout" onclick="handleLogout()">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>
              </svg>
              로그아웃
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 헤더 (검색 후 숨김) -->
    <header id="mainHeader">
      <div class="logo">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2Z" fill="currentColor" opacity="0.2"/>
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2ZM12 22C7.94 20.84 4 15.36 4 10.5V8.3L12 4.26L20 8.3V10.5C20 15.36 16.06 20.84 12 22Z" fill="currentColor"/>
          <path d="M12 7C10.34 7 9 8.34 9 10V11H8V17H16V11H15V10C15 8.34 13.66 7 12 7ZM13 11H11V10C11 9.45 11.45 9 12 9C12.55 9 13 9.45 13 10V11Z" fill="currentColor"/>
        </svg>
      </div>
      <h1>소방용 건축물대장 검색</h1>
      <p class="subtitle">주소를 검색하여 건축물 정보를 조회합니다</p>
    </header>

    <!-- 주소 검색 + 조회 버튼 -->
    <div class="search-section">
      <div class="search-box">
        <div class="search-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 21L16.65 16.65M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <input type="text" id="addressInput" placeholder="주소 검색" readonly onclick="searchAddress()">
        <button onclick="searchBuilding()" class="btn-search-inline" id="searchBtn" disabled>
          조회
        </button>
      </div>
      <button onclick="showSearchHistory()" class="btn-history-small" id="historyBtn" style="display: none;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 8V12L15 15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
    <div class="manual-search-link">
      <a href="#" onclick="showManualInputModal(); return false;">건축물대장 없이 직접 입력하기</a>
    </div>

    <!-- 로딩 표시 -->
    <div id="loading" class="loading" style="display: none;">
      <div class="spinner"></div>
      <span>조회 중...</span>
    </div>

    <!-- 결과 영역 -->
    <div id="result" class="result-container"></div>

    <!-- 사용법 팁 ticker -->
    <div class="tips-ticker" id="tipsTicker">
      <div class="tips-ticker-track">
        <span class="tips-ticker-item">💡 주소를 검색하면 건축물에 필요한 소방시설을 확인할 수 있습니다</span>
        <span class="tips-ticker-item">🔒 로그인하면 검색 기록이 자동으로 저장됩니다</span>
        <span class="tips-ticker-item">✏️ 건축물대장 없이 직접 입력도 가능합니다</span>
        <span class="tips-ticker-item">⭐ 회원가입 후 즐겨찾기로 자주 조회하는 건물을 저장해 보세요</span>
        <span class="tips-ticker-item">📅 허가일 기준으로 적용되는 소방법령이 달라집니다</span>
        <span class="tips-ticker-item">📄 로그인 후 조회 결과를 PDF로 다운로드할 수 있습니다</span>
        <span class="tips-ticker-item">🗺️ 지도 버튼으로 건물 위치를 확인해 보세요</span>
        <span class="tips-ticker-item">🔗 공유 버튼으로 조회 결과를 동료에게 보낼 수 있습니다</span>
      </div>
    </div>

    <footer>
      <nav aria-label="사이트 네비게이션">
        <div class="footer-links">
          <a href="/guide/">시설가이드</a>
          <span class="footer-divider">·</span>
          <a href="/pages/timeline.html">법령연혁</a>
          <span class="footer-divider">·</span>
          <a href="/pages/checklist.html">용도체크</a>
          <span class="footer-divider">·</span>
          <a href="/pages/reference.html">자료실</a>
        </div>
        <div class="footer-links" style="margin-top: 8px;">
          <a href="/pages/about.html">서비스 소개</a>
          <span class="footer-divider">·</span>
          <a href="/pages/terms.html">이용약관</a>
          <span class="footer-divider">·</span>
          <a href="/pages/privacy.html">개인정보처리방침</a>
        </div>
      </nav>
      <p>국토교통부 건축물대장정보 서비스 API 사용</p>
    </footer>
  </div>
  </main>

  <!-- 로그인/회원가입 모달 -->
  <div id="authModal" class="modal" style="display: none;">
    <div class="auth-modal-content">
      <button class="auth-modal-close" onclick="closeAuthModal()" aria-label="닫기">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
      </button>
      <h2 class="auth-modal-title">시작하기</h2>
      <div class="auth-modal-buttons">
        <button class="auth-modal-btn login-btn" onclick="handleLogin()">
          <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
            <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
            <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
            <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
          </svg>
          로그인
        </button>
        <button class="auth-modal-btn signup-btn" onclick="handleSignup()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM20 8v6M23 11h-6"/>
          </svg>
          회원가입
        </button>
      </div>
      <p class="auth-modal-hint">로그인 또는 회원가입을 선택하세요</p>
      <p class="auth-modal-terms"><a href="/pages/terms.html">이용약관</a> · <a href="/pages/privacy.html">개인정보처리방침</a></p>
    </div>
  </div>

  <!-- 검색 기록 모달 -->
  <div id="historyModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>검색 기록</h2>
        <button class="modal-close" onclick="closeHistoryModal()" aria-label="닫기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div id="historyList" class="history-list"></div>
      </div>
    </div>
  </div>

  <!-- 상세보기 모달 -->
  <div id="detailModal" class="modal" style="display: none;">
    <div class="modal-content detail-modal-content">
      <div class="modal-header">
        <h2 id="detailModalTitle">상세 정보</h2>
        <button class="modal-close" onclick="closeDetailModal()" aria-label="닫기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body" id="detailModalBody">
      </div>
    </div>
  </div>

  <!-- 내 정보 모달 -->
  <div id="myInfoModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>내 정보</h2>
        <button class="modal-close" onclick="closeMyInfoModal()" aria-label="닫기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="my-info-content">
          <div class="my-info-avatar">
            <img id="myInfoPhoto" src="" alt="프로필">
          </div>
          <div class="my-info-details">
            <div class="my-info-row">
              <span class="my-info-label">이름</span>
              <span id="myInfoName" class="my-info-value">-</span>
            </div>
            <div class="my-info-row">
              <span class="my-info-label">이메일</span>
              <span id="myInfoEmail" class="my-info-value">-</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 설정 모달 -->
  <div id="settingsModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>설정</h2>
        <button class="modal-close" onclick="closeSettingsModal()" aria-label="닫기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="settings-section">
          <div class="settings-section-title">화면 테마</div>
          <div class="theme-options">
            <button class="theme-option" data-theme="light" onclick="setTheme('light')">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
              </svg>
              <span>라이트</span>
            </button>
            <button class="theme-option" data-theme="dark" onclick="setTheme('dark')">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
              </svg>
              <span>다크</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 지도 모달 -->
  <div id="mapModal" class="modal" style="display: none;">
    <div class="modal-content map-modal-content">
      <button class="map-close-btn" onclick="closeMapModal()" aria-label="닫기">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
          <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
      </button>
      <div class="modal-body map-modal-body">
        <div id="mapContainer" class="map-container"></div>
        <div id="mapAddress" class="map-address-bar">
          <span class="map-address-text"></span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- 소방기준 모달 -->
  <div id="fireStandardsModal" class="modal" style="display: none;">
    <div class="modal-content fire-standards-modal-content">
      <div class="modal-header">
        <h2>소방시설 설치기준</h2>
        <button class="modal-close" onclick="closeFireStandardsModal()" aria-label="닫기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body" id="fireStandardsBody"></div>
    </div>
  </div>

  <!-- 시설 상세 모달 -->
  <div id="facilityDetailModal" class="modal" style="display: none;">
    <div class="modal-content facility-detail-modal-content">
      <div class="modal-header">
        <h2 id="facilityDetailTitle">시설 상세 기준</h2>
        <button class="modal-close" onclick="closeFacilityDetailModal()" aria-label="닫기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body" id="facilityDetailBody"></div>
    </div>
  </div>

  <!-- 수동 입력 모달 -->
  <div id="manualInputModal" class="modal" style="display: none;">
    <div class="modal-content manual-input-modal-content">
      <div class="modal-header">
        <h2>직접 입력</h2>
        <button class="modal-close" onclick="closeManualInputModal()" aria-label="닫기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <p class="manual-input-desc">건축물대장이 없는 건물의 소방시설 기준을 확인합니다.</p>

        <div class="manual-input-form">
          <div class="manual-input-group">
            <label for="manualPermitDate">허가일</label>
            <input type="date" id="manualPermitDate" placeholder="YYYY-MM-DD">
          </div>

          <div class="manual-input-group">
            <label for="manualPurpose">용도</label>
            <select id="manualPurpose">
              <option value="">선택하세요</option>
              <optgroup label="근린생활시설">
                <option value="제1종근린생활시설">제1종근린생활시설</option>
                <option value="제2종근린생활시설">제2종근린생활시설</option>
              </optgroup>
              <optgroup label="주거시설">
                <option value="단독주택">단독주택</option>
                <option value="공동주택">공동주택</option>
                <option value="공동주택(아파트)">공동주택(아파트)</option>
              </optgroup>
              <optgroup label="상업시설">
                <option value="판매시설">판매시설</option>
                <option value="운수시설">운수시설</option>
              </optgroup>
              <optgroup label="업무/숙박">
                <option value="업무시설">업무시설</option>
                <option value="숙박시설">숙박시설</option>
              </optgroup>
              <optgroup label="문화/집회">
                <option value="문화및집회시설">문화및집회시설</option>
                <option value="종교시설">종교시설</option>
                <option value="위락시설">위락시설</option>
              </optgroup>
              <optgroup label="의료/교육">
                <option value="의료시설">의료시설</option>
                <option value="교육연구시설">교육연구시설</option>
                <option value="노유자시설">노유자시설</option>
              </optgroup>
              <optgroup label="산업시설">
                <option value="공장">공장</option>
                <option value="창고시설">창고시설</option>
                <option value="위험물저장및처리시설">위험물저장및처리시설</option>
              </optgroup>
              <optgroup label="기타">
                <option value="자동차관련시설">자동차관련시설</option>
                <option value="운동시설">운동시설</option>
                <option value="방송통신시설">방송통신시설</option>
              </optgroup>
            </select>
          </div>

          <div class="manual-input-group">
            <label for="manualArea">연면적 (㎡)</label>
            <input type="number" id="manualArea" placeholder="예: 1500" min="0" step="0.01">
          </div>

          <div class="manual-input-row">
            <div class="manual-input-group">
              <label for="manualGroundFloors">지상층수</label>
              <input type="number" id="manualGroundFloors" placeholder="예: 5" min="0" max="200">
            </div>
            <div class="manual-input-group">
              <label for="manualUndergroundFloors">지하층수</label>
              <input type="number" id="manualUndergroundFloors" placeholder="예: 2" min="0" max="20">
            </div>
          </div>

          <button class="btn-manual-submit" onclick="submitManualInput()">
            소방시설 기준 확인
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 광고 차단 감지 모달 -->
  <div id="adBlockModal" class="adblock-modal" style="display: none;">
    <div class="adblock-modal-content">
      <button class="adblock-close" onclick="closeAdBlockModal()" aria-label="닫기">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
      </button>
      <div class="adblock-icon">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2Z" fill="currentColor" opacity="0.2"/>
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2ZM12 22C7.94 20.84 4 15.36 4 10.5V8.3L12 4.26L20 8.3V10.5C20 15.36 16.06 20.84 12 22Z" fill="currentColor"/>
          <path d="M12 8v4M12 16h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </div>
      <h2 class="adblock-title">광고 차단이 감지되었습니다</h2>
      <p class="adblock-message">
        소방체크는 광고 수익으로 무료 운영됩니다.<br>
        가능하시다면 광고 차단을 해제해 주세요.
      </p>
      <div class="adblock-buttons">
        <button class="adblock-btn primary" onclick="location.reload()">
          광고 차단 해제 후 새로고침
        </button>
        <button class="adblock-btn secondary" onclick="closeAdBlockModal()">
          그냥 이용하기
        </button>
      </div>
    </div>
  </div>

  <!-- 주소 검색 모달 (다음 포스트코드 embed용) -->
  <div id="addressModal" class="modal" style="display: none;">
    <div class="modal-content address-modal-content">
      <div class="modal-header">
        <h2>주소 검색</h2>
        <button class="modal-close" onclick="closeAddressModal()" aria-label="닫기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body address-modal-body">
        <div id="addressEmbedLayer"></div>
      </div>
    </div>
  </div>

  <!-- PWA 설치 배너 -->
  <div id="pwaInstallBanner" class="pwa-install-banner">
    <div class="pwa-banner-content">
      <div class="pwa-banner-icon">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2Z" fill="currentColor" opacity="0.2"/>
          <path d="M12 2L2 7V10C2 16.5 6.84 22.74 12 24C17.16 22.74 22 16.5 22 10V7L12 2ZM12 22C7.94 20.84 4 15.36 4 10.5V8.3L12 4.26L20 8.3V10.5C20 15.36 16.06 20.84 12 22Z" fill="currentColor"/>
          <path d="M12 7C10.34 7 9 8.34 9 10V11H8V17H16V11H15V10C15 8.34 13.66 7 12 7ZM13 11H11V10C11 9.45 11.45 9 12 9C12.55 9 13 9.45 13 10V11Z" fill="currentColor"/>
        </svg>
      </div>
      <div class="pwa-banner-text">
        <strong>소방체크</strong>
        <span>홈 화면에 추가하고 빠르게 접속하세요</span>
      </div>
    </div>
    <div class="pwa-banner-actions">
      <button class="pwa-btn-install" onclick="installPWA()">설치</button>
      <button class="pwa-btn-close" onclick="dismissInstallBanner()">닫기</button>
    </div>
  </div>

  <!-- 로그인 유도 하단 배너 -->
  <div id="loginPromptBanner" class="login-prompt-banner">
    <div class="login-prompt-content">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 8v4M12 16h.01"/>
      </svg>
      <span>검색 기록을 놓치지 마세요</span>
    </div>
    <div class="login-prompt-actions">
      <button class="login-prompt-btn" onclick="handleGoogleLogin()">로그인하기</button>
      <button class="login-prompt-dismiss" onclick="dismissLoginBanner()">닫기</button>
    </div>
  </div>

  <script type="module" src="/js/main.js"></script>
  <script>
    // PWA 설치 프롬프트 관리
    let deferredPrompt = null;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      showInstallBanner();
    });

    window.addEventListener('appinstalled', () => {
      hideInstallBanner();
      deferredPrompt = null;
      console.log('PWA 설치 완료');
    });

    function showInstallBanner() {
      // 이미 설치된 경우 (standalone 모드) 표시하지 않음
      if (window.matchMedia('(display-mode: standalone)').matches) {
        return;
      }
      // iOS standalone 체크
      if (window.navigator.standalone === true) {
        return;
      }
      // 사용자가 닫기를 눌렀는지 확인 (7일간 숨김)
      const dismissedTime = localStorage.getItem('pwaInstallDismissed');
      if (dismissedTime) {
        const daysSinceDismissed = (Date.now() - parseInt(dismissedTime)) / (1000 * 60 * 60 * 24);
        if (daysSinceDismissed < 7) {
          return;
        }
      }
      const banner = document.getElementById('pwaInstallBanner');
      if (banner) {
        banner.classList.add('show');
      }
    }

    function hideInstallBanner() {
      const banner = document.getElementById('pwaInstallBanner');
      if (banner) {
        banner.classList.remove('show');
      }
    }

    function installPWA() {
      if (!deferredPrompt) {
        return;
      }
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('사용자가 PWA 설치를 수락했습니다');
        } else {
          console.log('사용자가 PWA 설치를 거부했습니다');
        }
        deferredPrompt = null;
        hideInstallBanner();
      });
    }

    function dismissInstallBanner() {
      localStorage.setItem('pwaInstallDismissed', Date.now().toString());
      hideInstallBanner();
    }

    // Service Worker 등록
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then((registration) => {
            console.log('SW registered:', registration.scope);
          })
          .catch((error) => {
            console.log('SW registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>
